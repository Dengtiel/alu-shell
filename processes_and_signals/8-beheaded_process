#!/usr/bin/env bash
# This script kills the 7-highlander process.

# Get the PID of the 7-highlander process
PID=$(pgrep -f "7-highlander")

if [ -z "$PID" ]; then
  # No process found, exit with no output
  exit 0
fi

# Kill the process using SIGKILL (-9)
sudo kill -9 "$PID"

# Wait for a moment to ensure the process terminates
sleep 2

# Check if the process is still running
if pgrep -f "7-highlander" > /dev/null; then
  # Process is still running, exit with a non-zero status
  exit 1
else
  # Process successfully terminated, print "OK" once
  echo "OK"
fi
